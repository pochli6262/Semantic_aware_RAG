The likely bug is that the program incorrectly determines adjacency by not properly checking if A and B are in the same row of the board.
