You are a Python expert.

A user gives you the following Python program which is buggy.

## Problem Description (from dataset)
Score : 100 points

### Problem Statement

In a certain programming contest, T-shirts are awarded to participants according to the following rules.

* All participants who ranked A-th or higher get a T-shirt.
* Additionally, from the participants who ranked between (A+1)-th and B-th (inclusive), C participants chosen uniformly at random get a T-shirt.

There were 1000 participants in this contest, and all of them got different ranks.  
Iroha-chan, who participated in this contest, ranked X-th.  
Find the probability that she gets a T-shirt.

### Constraints

* All values in input are integers.
* 1 \le A < B \le 1000
* 1 \le C \le B-A
* 1 \le X \le 1000

---

### Input

Input is given from Standard Input in the following format:

```
A B C X
```

### Output

Print the answer.
Your output will be considered correct if the absolute or relative error from the judge's answer is at most 10^{−6}.

---

### Sample Input 1

```
30 500 20 103
```

### Sample Output 1

```
0.042553191489
```

Iroha-chan ranked 103-rd.  
She will get a T-shirt if she is among the 20 participants chosen uniformly at random from the 470 participants who ranked between 31-st and 500-th, which happens with probability \frac{20}{470}=0.04255319\dots.

---

### Sample Input 2

```
50 500 100 1
```

### Sample Output 2

```
1.000000000000
```

Iroha-chan ranked 1-st. This time, she is guaranteed to get a T-shirt.

---

### Sample Input 3

```
1 2 1 1000
```

### Sample Output 3

```
0.000000000000
```

Iroha-chan ranked 1000-th. This time, she will never get a T-shirt.

## Your Analysis (1-sentence bug summary)
The likely bug is that the program incorrectly calculates the probability for participants ranked between A+1 and B, as it fails to account for the total number of participants in that range when ranking isn't guaranteed.

## Buggy Program
#!/usr/bin/env python3

import sys

a, b, c, x = map(int, input().split())

res = 0.0
if x <= a:
   res = 100.0
elif x <= b:
   res = c / (b - a)

print('%.9f' % (res))



## Related Known Fixes (retrieved diffs)
### Diff 1
--- 
+++ 
@@ -4,7 +4,7 @@
 
 n = min(len(a), len(b))
 
-for i in range(1, n):
+for i in range(1, n+1):
     if int(a[-i])+int(b[-i]) > 9:
         print("Hard")
         sys.exit()

### Diff 2
--- 
+++ 
@@ -1,3 +1,3 @@
 a,b=map(int,input().split())
-ans=(1000*b+5)//a/1000
+ans=(1000*b+a/2)//a/1000
 print("{:.3f}".format(ans))

### Diff 3
--- 
+++ 
@@ -18,7 +18,7 @@
     r = X
     for i in range(n):
         if a[i] == b[i]:
-            if c[i] * a[i] > 0:
+            if c[i] - a[i]*X > 0:
                 s = 0
                 break
         elif b[i] - a[i] > 0:

### Diff 4
--- 
+++ 
@@ -2,7 +2,7 @@
 
 x, y, z = [int(x) for x in input().split()]
 if (0 < x - y < x and x > 0) or (x < x - y < 0 and x < 0):
-    if 0 < y - z < y:
+    if (0 < y - z < y and y > 0) or (y < y - z < 0 and y < 0):
         print(abs(x))
     elif (y - z < 0 and y > 0) or (y - z > 0 and y < 0):
         print(-1)

### Diff 5
--- 
+++ 
@@ -1,3 +1,3 @@
 a, b = map(int, input().split())
 
-print(round(b / a, 3))
+print("{:.3f}".format(round(b / a, 3)))

Your task:
1) Identify the single incorrect line according to the problem summary and the retrieved diffs.
2) Assume EXACTLY ONE line is wrong.
3) Provide the corrected version of the ENTIRE program, changing only that single line — all other lines must remain identical.
4) Do not restructure or rewrite unrelated code.
5) Respond ONLY in JSON format:

{
  "explanation": "Explain what was wrong in that single line and how you fixed it (mention which diff patterns inspired the fix if applicable).",
  "fixed_code": "The FULL program with only that ONE line corrected."
}