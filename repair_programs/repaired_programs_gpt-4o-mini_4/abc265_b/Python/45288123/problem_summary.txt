The likely bug is that the time limit is updated after moving to the next room, which can lead to an invalid state if the time runs out just before the update.
