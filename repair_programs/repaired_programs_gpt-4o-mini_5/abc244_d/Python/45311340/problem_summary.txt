The likely bug is that the program incorrectly checks if the input hat configurations are present in the predefined list instead of comparing the configurations directly.
