The program uses input()[:-1] to read S, which can erroneously remove the last character of S (not just a trailing newline).
