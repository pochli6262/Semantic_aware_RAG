The code incorrectly treats numbers that differ by 3 as horizontally adjacent by using the condition A==B-3 (i.e., B==A+3), thus reporting vertical neighbors as "Yes".
