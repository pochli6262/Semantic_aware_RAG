The inner loop only considers integers 1..N (not 1..2N+1) and the code also doesn't check for the judge's 0 response to terminate, so it mishandles the valid move range and game end.
