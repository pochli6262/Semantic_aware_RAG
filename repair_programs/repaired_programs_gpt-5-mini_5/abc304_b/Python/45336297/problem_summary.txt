The final branch uses the wrong upper bound and strips only five trailing digits instead of six, so inputs in the 10^8â€“10^9-1 range are left unhandled or truncated incorrectly.
