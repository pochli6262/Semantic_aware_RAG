The likely bug is that the program attempts to access the bonus time for the room after incrementing `now`, which can result in a `KeyError` if no bonus exists for that room.
