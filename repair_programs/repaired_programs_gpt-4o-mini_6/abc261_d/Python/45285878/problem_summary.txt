The likely bug is that the program incorrectly updates the dynamic programming table by mismanaging the streak bonus indexing and failing to properly account for counter resets triggered by tails.
