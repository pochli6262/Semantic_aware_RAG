The likely bug is that the program incorrectly calculates the number of attacks by performing integer division and then adding one, rather than properly accounting for the remainder when dividing stamina by the attack reduction.
