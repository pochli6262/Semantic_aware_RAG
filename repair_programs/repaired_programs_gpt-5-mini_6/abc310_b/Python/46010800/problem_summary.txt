The inner loop uses "for j in range(i)" so the code only checks pairs with j < i and therefore misses many ordered (i, j) pairs that should be compared.
