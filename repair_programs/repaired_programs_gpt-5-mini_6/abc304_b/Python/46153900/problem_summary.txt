The code uses round(...) which performs mathematical rounding instead of truncating the lower digits, so values like 500600 will become 501000 instead of the expected 500000.
