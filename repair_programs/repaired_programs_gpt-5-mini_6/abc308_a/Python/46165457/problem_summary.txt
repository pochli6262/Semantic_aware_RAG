The range check is wrong: it uses "S[i] >= 675 or S[i] <= 100" which incorrectly rejects the inclusive endpoints 100 and 675 instead of checking "S[i] > 675 or S[i] < 100".
